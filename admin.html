<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LITA Admin Dashboard</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
  <script src="auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script> (function(){ emailjs.init("service_mrqs34o"); })(); </script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="p-6 bg-gray-50">
  <h1 class="text-2xl font-bold mb-4">Admin Dashboard</h1>
  <div class="bg-white p-4 rounded shadow mb-6">
    <h2 class="text-lg font-bold mb-2">Register New Member</h2>
    <input id="memberName" placeholder="Full Name" class="border p-2 mb-2 w-full rounded">
    <input id="memberEmail" placeholder="Email" class="border p-2 mb-2 w-full rounded">
    <input id="memberID" placeholder="Manual Member ID" class="border p-2 mb-2 w-full rounded">
    <button onclick="registerMember()" class="bg-green-600 text-white p-2 rounded">Register</button>
    <p id="status" class="text-sm mt-2"></p>
  </div>

  <div class="bg-white p-4 rounded shadow">
    <h2 class="text-lg font-bold mb-2">All Members</h2>
    <input id="search" onkeyup="searchMembers()" placeholder="Search..." class="border p-2 mb-3 w-full rounded">
    <button onclick="exportCSV()" class="bg-blue-500 text-white px-3 py-1 rounded">Export CSV</button>
    <button onclick="exportPDF()" class="bg-red-500 text-white px-3 py-1 rounded ml-2">Export PDF</button>
    <table id="membersTable" class="w-full mt-3 border">
      <thead>
        <tr class="bg-gray-200"><th>Photo</th><th>Name</th><th>Email</th><th>ID</th><th>Action</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="bg-white p-4 mt-6 rounded shadow">
    <h2 class="text-lg font-bold mb-2">Members Tree</h2>
    <div id="tree"></div>
  </div>

  <script src="admin.js"></script>
  <script src="tree.js"></script>
</body>
</html>
